<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
  * { margin: 0; padding: 0; }
  html { height: 100% }
  body { height: 100%; margin: 0; padding: 0 }
  #results { padding: 20px; }
  #map_canvas {
    width: 66%;
    height: 100%;
    position: fixed;
    left: 0px;
    top: 0px;
  }
</style>
<script type="text/javascript"
    src="http://maps.google.com/maps/api/js?sensor=false">
</script>
<script type="text/javascript">
  function initialize() {
    var latlng = new google.maps.LatLng(-34.397, 150.644);
    var myOptions = {
      zoom: 8,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
  }
</script>
</head>
<body onload="initialize()">
  <div id="results" style="position: absolute; left: 66%; width: 33%; height: 100%;">
    <% @items.take(@count).each do |item| %>
      <p>
        <h2>
          <% if item["categories"].size > 0 %>
            <img class="category" src="<%= item["categories"][0]["icon"].to_s %>">
          <% end %>
          <%= item["name"] %>
        </h2>
        <p> <%= item["stats"]["checkinsCount"] %> </p>
        <pre>
          <%= item.to_s %>
        </pre>
      </p>
    <% end %>
  </div>
  <div id="map_canvas">
  </div>
</body>
</html>

